<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FURKAN BAYSAK PASTANELERİ</title>
    <link rel="icon" type="image/x-icon" href="logo.png">
    <link rel="stylesheet" href="style.css">  </head>

<body oncontextmenu="return false;">
    <header>
        <div class="menu-icon" onclick="toggleMenu()">
            <div class="line"></div>
            <div class="line"></div>
            <div class="line"></div>
        </div>
        <div class="logo-container">
            <img src="logo.png" alt="Furkan Baysak Pastaneleri Logo" class="logo">
            <h1>FURKAN BAYSAK</h1>
        </div>
    </header>

    <nav id="side-menu" class="hidden">
        <button class="close-btn" onclick="closeMenu()">X</button>
        <ul>
            <li><a href="#hakkinda">Hakkında</a></li>
            <li><a href="#urunler">Ürünler</a></li>
            <li><a href="#subeler">Şubeler</a></li>
            <li><a href="#siparis">Pasta Siparişi Ver</a></li>
        </ul>
    </nav>

    <main>
        <div class="slider-container">
            <div class="slider" id="slider">
                <img src="image1.png" alt="Galeri 1" class="slide">
                <img src="image2.png" alt="Galeri 2" class="slide">
                </div>
            <div class="dots">
                <span class="dot" onclick="setCurrentSlide(0)"></span>
                <span class="dot" onclick="setCurrentSlide(1)"></span>
            </div>
        </div>

        <section id="hakkinda" class="section-content">
            <h2>Hakkında</h2>
            <p>Kurulduğumuz ilk günden itibaren, en büyük önceliğimiz her zaman sizlerin memnuniyeti oldu. ... </p>
        </section>

        <section id="urunler" class="section-content">
            <h2>Ürünler</h2>
            <div class="kutular-container">
                </div>
        </section>

        <section id="subeler" class="section-content">
            <h2>Şubeler</h2>
            <div class="subeler-container">
            </div>
        </section>

        <section id="siparis" class="section-content">
            <div class="order-form-section">
                <h3>Pasta Siparişi Ver</h3>
                <div class="progress-bar">
                    <div class="progress" id="progress"></div>
                </div>
                <form class="order-form" id="order-form">
                    <div class="form-step active" data-step="1">
                        <label for="customer-name">Müşteri Adı Soyadı:</label>
                        <input type="text" id="customer-name" required>
                        <div class="button-container">
                            <button type="button" class="next-step">Sonraki Adım</button>
                        </div>
                    </div>
                    <div class="form-step" data-step="2">
                        <label for="branch-name">Şube Adı:</label>
                        <select id="branch-name" required>
                            <option value="">Şube Seçiniz</option>
                            <option value="Kayseri">Kayseri</option>
                            <option value="Aksaray">Aksaray</option>
                            <option value="Niğde">Niğde</option>
                            <option value="Nevşehir">Nevşehir</option>
                            <option value="Sivas">Sivas</option>
                        </select>
                        <div class="button-container">
                            <button type="button" class="prev-step">Önceki Adım</button>
                            <button type="button" class="next-step">Sonraki Adım</button>
                        </div>
                    </div>
                    <div class="form-step" data-step="3">
                        <label for="customer-phone">Telefon Numarası:</label>
                        <input type="tel" id="customer-phone" maxlength="10" required>
                        <div class="button-container">
                            <button type="button" class="prev-step">Önceki Adım</button>
                            <button type="button" class="next-step">Sonraki Adım</button>
                        </div>
                    </div>
                    <div class="form-step" data-step="4">
                        <label for="cake-size">Pasta Boyutu:</label>
                        <select id="cake-size" required>
                            <option value="">Boyut Seçiniz</option>
                            <option value="1">1 Nolu - 4-6 Kişilik</option>
                            <option value="2">2 Nolu - 8-10 Kişilik</option>
                            <option value="3">3 Nolu - 10-15 Kişilik</option>
                        </select>
                        <div class="button-container">
                            <button type="button" class="prev-step">Önceki Adım</button>
                            <button type="button" class="next-step">Sonraki Adım</button>
                        </div>
                    </div>
                    <div class="form-step" data-step="5">
                        <label for="cake-shape">Pasta Şekli:</label>
                        <input type="text" id="cake-shape" placeholder="Yuvarlak, Kare, Kalp vb." required>
                        <div class="button-container">
                            <button type="button" class="prev-step">Önceki Adım</button>
                            <button type="button" class="next-step">Sonraki Adım</button>
                        </div>
                    </div>
                    <div class="form-step" data-step="6">
                        <label for="extra-layer">Ekstra Ara Kat:</label>
                        <input type="number" id="extra-layer" min="0" max="3" placeholder="İsteğe bağlı">
                        <div class="button-container">
                            <button type="button" class="prev-step">Önceki Adım</button>
                            <button type="button" class="next-step">Sonraki Adım</button>
                        </div>
                    </div>
                    <div class="form-step" data-step="7">
                        <label for="cake-flavor">Kek ve Krema Farklılığı:</label>
                        <textarea id="cake-flavor" placeholder="İstediğiniz kek ve krema türlerini belirtiniz."></textarea>
                        <div class="button-container">
                            <button type="button" class="prev-step">Önceki Adım</button>
                            <button type="button" class="next-step">Sonraki Adım</button>
                        </div>
                    </div>
                    <div class="form-step" data-step="8">
                        <label for="cake-content">Pasta İçeriği:</label>
                        <textarea id="cake-content" required placeholder="Kuruyemiş, Çikolata, Meyveli vb."></textarea>
                        <div class="button-container">
                            <button type="button" class="prev-step">Önceki Adım</button>
                            <button type="button" class="next-step">Sonraki Adım</button>
                        </div>
                    </div>
                    <div class="form-step" data-step="9">
                        <label for="cream-and-color">Pasta Kreması ve Rengi:</label>
                        <input type="text" id="cream-and-color" required placeholder="Şanti, Sos, Renk">
                        <div class="button-container">
                            <button type="button" class="prev-step">Önceki Adım</button>
                            <button type="button" class="next-step">Sonraki Adım</button>
                        </div>
                    </div>
                    <div class="form-step" data-step="10">
                        <label for="cake-base">Pasta Altlığı:</label>
                        <select id="cake-base" required>
                            <option value="">Altlık Seçiniz</option>
                            <option value="Mukavva">Mukavva</option>
                            <option value="Şeker Hamuru">Şeker Hamuru</option>
                            <option value="Ahşap">Ahşap</option>
                        </select>
                        <div class="button-container">
                            <button type="button" class="prev-step">Önceki Adım</button>
                            <button type="button" class="next-step">Sonraki Adım</button>
                        </div>
                    </div>
                    <div class="form-step" data-step="11">
                        <label for="cake-details">Pasta Detayları:</label>
                        <textarea id="cake-details" placeholder="Ekstra talimatlar"></textarea>
                        <label for="cake-photo">Fotoğraf Ekleyin:</label>
                        <input type="file" id="cake-photo" accept="image/*">
                        <div class="button-container">
                            <button type="button" class="prev-step">Önceki Adım</button>
                            <button type="button" class="next-step">Sonraki Adım</button>
                        </div>
                    </div>
                    <div class="form-step" data-step="12">
                        <label for="order-notes">Notlar:</label>
                        <textarea id="order-notes" placeholder="Ek notlar"></textarea>
                        <div class="button-container">
                            <button type="button" class="prev-step">Önceki Adım</button>
                            <button type="button" id="submit-order">Siparişi Gönder</button>
                        </div>
                    </div>
                </form>
            </div>
        </section>
    </main>
    <footer>
        <div class="social-container">
            <a href="https://www.instagram.com/furkanbaysakpastaneleri" target="_blank" class="social-link">
                <img src="instagram-logo.png" class="social-logo">
                <span>FURKANBAYSAKPASTANELERİ</span>
            </a>
        </div>
    </footer>


    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>
    <script>
        // Firebase config ayarlarınız
        const firebaseConfig = {
            // ...firebase config bilgileri...
        };

        // Firebase uygulamanızı başlatın
        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();

        const submitOrderButton = document.getElementById('submit-order');
        const formSteps = document.querySelectorAll(".form-step");
        const progressBar = document.getElementById("progress");
        let currentStep = 1;
        const form = document.getElementById('order-form');

        function updateProgress() {
            const progressWidth = ((currentStep - 1) / (formSteps.length - 1)) * 100;
            progressBar.style.width = `${progressWidth}%`;
        }

         form.addEventListener('click', (event) => {
            if (event.target.classList.contains('next-step')) {
                 let isValid = true;
                 const currentFormStep = formSteps[currentStep - 1];
                  const requiredInputs = currentFormStep.querySelectorAll('[required]');

                requiredInputs.forEach(input => {
                    if (!input.value) {
                      isValid = false;
                      input.style.border = "2px solid red";
                   } else {
                      input.style.border = "1px solid #ddd";
                   }
                });

                if (isValid) {
                   currentStep++;
                    if (currentStep > formSteps.length) {
                        currentStep = formSteps.length;
                    }
                  showStep(currentStep);
                 updateProgress();
                 }

             }
            if (event.target.classList.contains('prev-step')) {
                currentStep--;
                 if (currentStep < 1) {
                    currentStep = 1;
                 }
                 showStep(currentStep);
                 updateProgress();
            }
        });

        function showStep(step) {
             formSteps.forEach((step, index) => {
                if (index + 1 === step) {
                    step.style.display = 'block';
                } else {
                     step.style.display = 'none';
                 }
             });
        }


        submitOrderButton.addEventListener('click', function(event) {
           event.preventDefault(); // Formun varsayılan gönderimini engelle

            // Verileri topla
            const musteriAdSoyad = document.getElementById('customer-name').value;
            const subeAdi = document.getElementById('branch-name').value;
            const telefonNumarası = document.getElementById('customer-phone').value;
            const pastaBoyutu = document.getElementById('cake-size').value;
            const pastaSekli = document.getElementById('cake-shape').value;
            const ekstraAraKat = document.getElementById('extra-layer').value;
            const kekKremaFarklılıgı = document.getElementById('cake-flavor').value;
             const pastaİcerigi = document.getElementById('cake-content').value;
            const kremaVeRengi = document.getElementById('cream-and-color').value;
            const pastaAltlıgı = document.getElementById('cake-base').value;
            const pastaDetaylari = document.getElementById('cake-details').value;
            // Pasta Fotoğrafı için Firebase Storage kullanmanız gerekebilir.
           // const pastaFoto = document.getElementById('cake-photo').files[0];  // Dosya nesnesini al
           const notlar = document.getElementById('order-notes').value;

            if (musteriAdSoyad && subeAdi && telefonNumarası && pastaBoyutu && pastaSekli && kremaVeRengi && pastaAltlıgı) {
                 // Firebase Realtime Database'e veri gönderme
                const orderRef = database.ref('pastaSiparisleri/' + subeAdi + '/' + musteriAdSoyad);
                 orderRef.set({
                    "Müşteri Ad Soyad": musteriAdSoyad,
                     "Şube Adı": subeAdi,
                     "Telefon Numarası": telefonNumarası,
                    "Pasta Boyutu": pastaBoyutu,
                    "Pasta Şekli": pastaSekli,
                    "Ekstra Ara Kat": ekstraAraKat,
                     "Kek Krema Farklılığı": kekKremaFarklılıgı,
                    "Pasta İçeriği": pastaİcerigi,
                    "Krema ve Rengi": kremaVeRengi,
                     "Pasta Altlığı": pastaAltlıgı,
                      "Pasta Detayları": pastaDetaylari,
                   //  "Pasta Fotoğrafı": pastaFoto, // Firebase Storage entegrasyonu yap
                      "Notlar": notlar,
                    "Sipariş Durumu": "Hazırlanıyor"
                 })
                 .then(() => {
                     // Formu temizle
                      form.reset();

                   // Başarı mesajını göster
                   alert('Siparişiniz başarıyla gönderildi!');

                    // Formu ilk adıma döndür ve ilerleme çubuğunu sıfırla
                     currentStep = 1;
                     showStep(currentStep);
                     updateProgress();
                })
                 .catch(error => {
                     console.error("Veritabanına yazma hatası:", error);
                     alert("Siparişiniz gönderilirken bir hata oluştu. Lütfen tekrar deneyin.");
                });

            } else {
                alert('Lütfen tüm zorunlu alanları doldurunuz!');
            }
         });

         document.getElementById('customer-phone').addEventListener('input', function (e) {
            this.value = this.value.replace(/[^0-9]/g, '');
            if (this.value.length > 10) {
                this.value = this.value.slice(0, 10);
            }
         });


        // Yandan Menü Kontrolü
       function toggleMenu() {
            const menu = document.getElementById('side-menu');
             menu.classList.toggle('open');
        }

         function closeMenu() {
             const menu = document.getElementById('side-menu');
             menu.classList.remove('open');
         }

        // Fotoğraf Galerisi
        let currentSlide = 0;

       function setCurrentSlide(index) {
             currentSlide = index;
            updateSlider();
       }

         function updateSlider() {
            const slider = document.getElementById('slider');
            const slides = document.querySelectorAll('.slide');
           const dots = document.querySelectorAll('.dot');

           // Slaytları kaydırma
             slider.style.transform = `translateX(-${currentSlide * 100}%)`;

          // Nokta aktifliğini güncelle
           dots.forEach((dot, i) => {
                dot.classList.toggle('active', i === currentSlide);
            });
         }
       // Otomatik Kaydırma (İsteğe Bağlı)
         setInterval(() => {
             const slides = document.querySelectorAll('.slide');
            currentSlide = (currentSlide + 1) % slides.length;
            updateSlider();
          }, 5000);

         function showStep(step) {
            formSteps.forEach((formStep, index) => {
                if (index + 1 === step) {
                    formStep.style.display = 'block';
                 } else {
                      formStep.style.display = 'none';
                }
            });
        }

    </script>

</body>
</html>
