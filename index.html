<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FURKAN BAYSAK PASTANELERİ</title>
    <link rel="icon" type="image/x-icon" href="logo.png">
    <style>
        /* Sıfırlama Stilleri */
        body, h1, h2, h3, p, ul, li, a, form, input, textarea, select, button {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Open Sans', sans-serif;
            background-color: #f8f8f8;
            color: #333;
            line-height: 1.6;
            display: flex;
            flex-direction: column;
            min-height: 100vh; /* Sayfanın tüm ekranı kaplamasını sağlar */
        }

        /* Header Stilleri */
        header {
            background-color: #fff;
            padding: 20px;
            border-bottom: 1px solid #eee;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative; /* back-button için */
        }

        .logo-container {
            display: flex;
            align-items: center;
        }

        .logo {
            max-width: 50px;
            margin-right: 10px;
        }

        h1 {
            font-size: 2em;
            color: #e44d26;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
        }

        /* Yandan Menü Stilleri */
        .menu-icon {
            display: block;
            cursor: pointer;
            position: relative; /* close-btn için */
        }

        .menu-icon .line {
            width: 30px;
            height: 3px;
            background-color: #333;
            margin: 5px 0;
            transition: all 0.3s ease-in-out;
        }

        #side-menu {
            position: fixed;
            top: 0;
            left: -250px;
            width: 250px;
            height: 100%;
            background-color: #fff;
            padding-top: 60px;
            z-index: 1000;
            transition: left 0.3s ease-in-out;
            overflow-y: auto;
            box-shadow: 2px 0 5px rgba(0,0,0,0.2);
        }

        #side-menu.open {
            left: 0;
        }

        #side-menu ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        #side-menu li a {
            display: block;
            padding: 15px 20px;
            text-decoration: none;
            color: #333;
            font-weight: bold;
            transition: background-color 0.3s ease;
        }

        #side-menu li a:hover {
            background-color: #f0f0f0;
        }

        #side-menu .close-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 24px;
            cursor: pointer;
            background: none;
            border: none;
            outline: none;
        }

        /* Slider Stilleri */
        /* ... (Önceki slider stilleri) ... */

        /* Section Stilleri */
        /* ... (Önceki section stilleri) ... */

        /* Ürün Kutuları Stilleri */
        /* ... (Önceki ürün kutusu stilleri) ... */

        /* Şube Stilleri */
        /* ... (Önceki şube stilleri) ... */

        /* Pasta Sipariş Formu Stilleri */
        .order-form-section {
            max-width: 600px;
            margin: 20px auto;
            padding: 20px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .order-form-section h3 {
            margin-bottom: 20px;
        }

        .order-form label {
            display: block;
            margin-bottom: 5px;
            text-align: left;
            font-weight: bold;
        }

        .order-form input,
        .order-form select,
        .order-form textarea {
            width: 100%;
            padding: 8px;
            margin-bottom: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            box-sizing: border-box;
        }

        .order-form textarea {
            resize: vertical;
        }

        .order-form button {
            background-color: #e44d26;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        .order-form button:hover {
            background-color: #c3411f;
        }

        .progress-bar {
            width: 100%;
            background-color: #ddd;
            border-radius: 5px;
            height: 8px;
            margin-bottom: 15px;
            overflow: hidden;
        }

        .progress {
            height: 100%;
            background-color: #e44d26;
            border-radius: 5px;
            width: 0%;
            transition: width 0.3s ease-in-out;
        }

        .order-form .form-step {
            display: none;
        }

        .order-form .form-step.active {
            display: block;
        }

        .button-container {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 10px;
        }

        /* ... (Diğer stiller) ... */
    </style>
</head>
<body>
    <header>
        <div class="menu-icon" onclick="toggleMenu()">
            <div class="line"></div>
            <div class="line"></div>
            <div class="line"></div>
        </div>
        <div class="logo-container">
            <img src="logo.png" alt="Furkan Baysak Pastaneleri Logo" class="logo">
            <h1>FURKAN BAYSAK</h1>
        </div>
    </header>

    <nav id="side-menu" class="hidden">
        <button class="close-btn" onclick="closeMenu()">X</button>
        <ul>
            <li><a href="#hakkinda">Hakkında</a></li>
            <li><a href="#urunler">Ürünler</a></li>
            <li><a href="#subeler">Şubeler</a></li>
            <li><a href="#siparis">Pasta Siparişi Ver</a></li>
        </ul>
    </nav>

    <main>
        <div class="slider-container">
            <div class="slider" id="slider">
                <img src="image1.png" alt="Galeri 1" class="slide">
                <img src="image2.png" alt="Galeri 2" class="slide">
                <!-- Diğer slayt resimlerini buraya ekleyin -->
            </div>
            <div class="dots">
                <span class="dot" onclick="setCurrentSlide(0)"></span>
                <span class="dot" onclick="setCurrentSlide(1)"></span>
                <!-- Diğer slaytlar için noktaları ekleyin -->
            </div>
        </div>

        <section id="hakkinda" class="section-content">
            <h2>Hakkında</h2>
            <p>
                Kurulduğumuz ilk günden itibaren, en büyük önceliğimiz her zaman sizlerin
                memnuniyeti oldu. ... (Hakkında metnini buraya girin)
            </p>
        </section>

        <section id="urunler" class="section-content">
            <h2>Ürünler</h2>
            <div class="kutular-container" id="urunler-container">
                 </div>
        </section>

        <section id="subeler" class="section-content">
            <h2>Şubeler</h2>
            <div class="subeler-container" id="subeler-container">
            </div>
        </section>

        <section id="siparis" class="section-content">
            <div class="order-form-section">
                <h3>Pasta Siparişi Ver</h3>
                <div class="progress-bar">
                    <div class="progress" id="progress"></div>
                </div>
                <form class="order-form" id="order-form">
                    <div class="form-step active" data-step="1">
                        <label for="customer-name">Müşteri Adı Soyadı:</label>
                        <input type="text" id="customer-name" required>
                        <div class="button-container">
                            <button type="button" class="next-step">Sonraki Adım</button>
                        </div>
                    </div>

                    <div class="form-step" data-step="2">
                        <label for="branch-name">Şube Adı:</label>
                        <select id="branch-name" required>
                            <option value="">Şube Seçiniz</option>
                            <option value="Kayseri">Kayseri</option>
                            <option value="Aksaray">Aksaray</option>
                            <option value="Niğde">Niğde</option>
                            <option value="Nevşehir">Nevşehir</option>
                            <option value="Sivas">Sivas</option>
                        </select>
                        <div class="button-container">
                            <button type="button" class="prev-step">Önceki Adım</button>
                            <button type="button" class="next-step">Sonraki Adım</button>
                        </div>
                    </div>

                     <div class="form-step" data-step="3">
                        <label for="customer-phone">Telefon Numarası:</label>
                        <input type="tel" id="customer-phone" maxlength="10" required>
                       <div class="button-container">
                           <button type="button" class="prev-step">Önceki Adım</button>
                            <button type="button" class="next-step">Sonraki Adım</button>
                        </div>
                    </div>

                     <div class="form-step" data-step="4">
                         <label for="cake-size">Pasta Boyutu:</label>
                        <select id="cake-size" required>
                            <option value="">Boyut Seçiniz</option>
                            <option value="1">1 Nolu - 4-6 Kişilik</option>
                             <option value="2">2 Nolu - 8-10 Kişilik</option>
                            <option value="3">3 Nolu - 10-15 Kişilik</option>
                        </select>
                        <div class="button-container">
                          <button type="button" class="prev-step">Önceki Adım</button>
                          <button type="button" class="next-step">Sonraki Adım</button>
                        </div>
                    </div>

                    <div class="form-step" data-step="5">
                        <label for="cake-shape">Pasta Şekli:</label>
                       <input type="text" id="cake-shape"  placeholder="Yuvarlak, Kare, Kalp vb." required>
                         <div class="button-container">
                            <button type="button" class="prev-step">Önceki Adım</button>
                              <button type="button" class="next-step">Sonraki Adım</button>
                         </div>
                     </div>
                    <div class="form-step" data-step="6">
                        <label for="extra-layer">Ekstra Ara Kat:</label>
                         <input type="number" id="extra-layer" min="0" max="3" placeholder="İsteğe bağlı">
                         <div class="button-container">
                             <button type="button" class="prev-step">Önceki Adım</button>
                              <button type="button" class="next-step">Sonraki Adım</button>
                         </div>
                   </div>

                   <div class="form-step" data-step="7">
                     <label for="cake-flavor">Kek ve Krema Farklılığı:</label>
                     <textarea id="cake-flavor" placeholder="İstediğiniz kek ve krema türlerini belirtiniz."></textarea>
                      <div class="button-container">
                         <button type="button" class="prev-step">Önceki Adım</button>
                            <button type="button" class="next-step">Sonraki Adım</button>
                         </div>
                    </div>
                       <div class="form-step" data-step="8">
                         <label for="cake-content">Pasta İçeriği:</label>
                        <textarea id="cake-content" required placeholder="Kuruyemiş, Çikolata, Meyveli vb."></textarea>
                        <div class="button-container">
                            <button type="button" class="prev-step">Önceki Adım</button>
                           <button type="button" class="next-step">Sonraki Adım</button>
                         </div>
                   </div>

                    <div class="form-step" data-step="9">
                         <label for="cream-and-color">Pasta Kreması ve Rengi:</label>
                          <input type="text" id="cream-and-color" required placeholder="Şanti, Sos, Renk">
                           <div class="button-container">
                             <button type="button" class="prev-step">Önceki Adım</button>
                               <button type="button" class="next-step">Sonraki Adım</button>
                          </div>
                     </div>
                      <div class="form-step" data-step="10">
                        <label for="cake-base">Pasta Altlığı:</label>
                         <select id="cake-base" required>
                           <option value="">Altlık Seçiniz</option>
                           <option value="Mukavva">Mukavva</option>
                           <option value="Şeker Hamuru">Şeker Hamuru</option>
                           <option value="Ahşap">Ahşap</option>
                         </select>
                           <div class="button-container">
                               <button type="button" class="prev-step">Önceki Adım</button>
                                <button type="button" class="next-step">Sonraki Adım</button>
                         </div>
                      </div>

                    <div class="form-step" data-step="11">
                       <label for="cake-details">Pasta Detayları:</label>
                      <textarea id="cake-details" placeholder="Eklemek istediğiniz detayları ve örnek resim ekleme linkini belirtiniz."></textarea>
                     <label for="cake-photo">Fotoğraf Ekleyin:</label>
                      <input type="file" id="cake-photo" accept="image/*">
                        <div class="button-container">
                              <button type="button" class="prev-step">Önceki Adım</button>
                              <button type="button" id="submit-order">Siparişi Gönder</button>
                          </div>
                     </div>
                 </form>
           </div>
        </section>
    </main>
      <footer>
        <div class="social-container">
             <a href="https://www.instagram.com/furkanbaysakpastaneleri" target="_blank" class="social-link">
                 <img src="instagram-logo.png" class="social-logo">
                <span>FURKANBAYSAKPASTANELERİ</span>
              </a>
        </div>
    </footer>


    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>
    <script>
           // Firebase config ayarlarınız
          const firebaseConfig = {
            // ... firebase config bilgilerinizi buraya ekleyin
           };

        // Firebase uygulamanızı başlatın
           firebase.initializeApp(firebaseConfig);
          const database = firebase.database();

         const submitOrderButton = document.getElementById('submit-order');
         const formSteps = document.querySelectorAll(".form-step");
         const progressBar = document.getElementById("progress");
         let currentStep = 1;
        const form = document.getElementById('order-form');


       // Ürünler
         const urunlerContainer = document.getElementById('urunler-container');
         const urunler = {
            "eksimaya": {
                "isim": "EKŞİ MAYALILAR",
               "resim": "ekşimaya.png",
                "link": "eksimaya.html"
             },
             "pasta": {
                  "isim": "PASTALAR",
                 "resim": "pasta.png",
                "link": "pasta.html"
             },
             "kurabiye": {
                "isim": "KURABİYELER",
               "resim": "kurabiye.png",
               "link": "kurabiye.html"
             },
            "şarküteri": {
                  "isim": "ŞARKÜTERİ",
                "resim": "şarküteri.png",
               "link": "şarküteri.html"
              },
            "tatlilar": {
                "isim": "TATLILAR",
                "resim": "tatlilar.png",
                 "link": "tatlilar.html"
             },
            "icecekler": {
                "isim": "İÇECEKLER",
                 "resim": "icecekler.png",
                 "link": "icecekler.html"
              },
           "dondurmalar": {
               "isim": "DONDURMALAR",
                "resim": "dondurma.png",
               "link": "dondurmalar.html"
           }
        };

        for (const urun in urunler) {
           const kutu = document.createElement('div');
            kutu.className = 'kutu';
             kutu.innerHTML = `
                  <a href="${urunler[urun].link}">
                     <img src="${urunler[urun].resim}" alt="${urunler[urun].isim}">
                    <p>${urunler[urun].isim}</p>
                </a>
            `;
             urunlerContainer.appendChild(kutu);
        }

         // Şubeler
         const subelerContainer = document.getElementById('subeler-container');
        const subeler = {
            "kayseri": { "isim": "KAYSERİ", "link": "kayseri.html" },
            "nevsehir": { "isim": "NEVŞEHİR", "link": "nevsehir.html" },
           "nigde": { "isim": "NİĞDE", "link": "nigde.html" },
            "sivas": { "isim": "SİVAS", "link": "sivas.html" },
           "aksaray": { "isim": "AKSARAY", "link": "aksaray.html" }
         };
        for (const sube in subeler) {
            const subeDiv = document.createElement('div');
           subeDiv.className = 'sube';
           subeDiv.innerHTML = `<p><span class="location-icon">📍</span><a href="${subeler[sube].link}">${subeler[sube].isim}</a></p>`;
           subelerContainer.appendChild(subeDiv);
        }



        function updateProgress() {
             const progressWidth = ((currentStep - 1) / (formSteps.length - 1)) * 100;
            progressBar.style.width = `${progressWidth}%`;
        }


        form.addEventListener('click', (event) => {
           if (event.target.classList.contains('next-step')) {
               let isValid = true;
                const activeStep = formSteps[currentStep - 1];
               const requiredInputs = activeStep.querySelectorAll('[required]');

                 requiredInputs.forEach(input => {
                   if (!input.value) {
                       isValid = false;
                       input.style.border = "2px solid red";
                       input.placeholder = "Bu alan zorunludur!";
                   } else {
                       input.style.border = "1px solid #ddd";
                    }
                });

                 if (isValid) {
                      currentStep++;
                   if (currentStep > formSteps.length) {
                       currentStep = formSteps.length;
                    }
                    showStep(currentStep);
                    updateProgress();
                }
             }

            if (event.target.classList.contains('prev-step')) {
                 currentStep--;
                 if (currentStep < 1) {
                      currentStep = 1;
                 }
                 showStep(currentStep);
               updateProgress();
           }
        });

          function showStep(step) {
            formSteps.forEach((formStep, index) => {
                  if (index + 1 === step) {
                       formStep.style.display = 'block';
                  } else {
                       formStep.style.display = 'none';
                  }
            });
         }


        submitOrderButton.addEventListener('click', function(event) {
            event.preventDefault();

            // Verileri al
            const musteriAdSoyad = document.getElementById('customer-name').value;
             const subeAdi = document.getElementById('branch-name').value;
             const telefonNumarası = document.getElementById('customer-phone').value;
             const pastaBoyutu = document.getElementById('cake-size').value;
             const pastaSekli = document.getElementById('cake-shape').value;
           const ekstraAraKat = document.getElementById('extra-layer').value;
             const kekKremaFarklılıgı = document.getElementById('cake-flavor').value;
             const pastaİcerigi = document.getElementById('cake-content').value;
            const kremaVeRengi = document.getElementById('cream-and-color').value;
            const pastaAltlıgı = document.getElementById('cake-base').value;
            const pastaDetaylari = document.getElementById('cake-details').value;
            // Pasta Fotoğrafı için Firebase Storage kullanmanız gerekebilir.
           // const pastaFoto = document.getElementById('cake-photo').files[0]; // Dosya nesnesini al
            const notlar = document.getElementById('order-notes').value; // notlar eklendi

             if (musteriAdSoyad && subeAdi && telefonNumarası && pastaBoyutu && pastaSekli && kremaVeRengi && pastaAltlıgı) {
                  const orderRef = database.ref('pastaSiparisleri/' + subeAdi + '/' + musteriAdSoyad);
                  orderRef.set({
                       "Müşteri Ad Soyad": musteriAdSoyad,
                      "Şube Adı": subeAdi,
                      "Telefon Numarası": telefonNumarası,
                      "Pasta Boyutu": pastaBoyutu,
                      "Pasta Şekli": pastaSekli,
                    "Ekstra Ara Kat": ekstraAraKat,
                     "Kek Krema Farklılığı": kekKremaFarklılıgı,
                     "Pasta İçeriği": pastaİcerigi,
                     "Krema ve Rengi": kremaVeRengi,
                    "Pasta Altlığı": pastaAltlıgı,
                    "Pasta Detayları": pastaDetaylari,
                    // "Pasta Fotoğrafı": pastaFoto, // Firebase Storage entegrasyonu yapılacak.
                     "Notlar": notlar, // notlar eklendi
                     "Sipariş Durumu": "Hazırlanıyor"
                 })
                 .then(() => {
                    alert('Siparişiniz başarıyla gönderildi!');
                    form.reset(); // Formu temizle
                    currentStep = 1;
                    showStep(currentStep);
                    updateProgress();
                })
                .catch(error => {
                    // Hata durumunda işlemler
                    console.error("Veritabanına yazma hatası:", error);
                     alert("Siparişiniz gönderilirken bir hata oluştu. Lütfen tekrar deneyin.");
               });


              }else {
                   alert('Lütfen tüm zorunlu alanları doldurunuz!');
             }
         });

         document.getElementById('customer-phone').addEventListener('input', function (e) {
            this.value = this.value.replace(/[^0-9]/g, '');
             if (this.value.length > 10) {
                 this.value = this.value.slice(0, 10);
             }
         });

         // Yandan Menü Kontrolü
        function toggleMenu() {
            const menu = document.getElementById('side-menu');
            menu.classList.toggle('open');
        }
         function closeMenu() {
            const menu = document.getElementById('side-menu');
             menu.classList.remove('open');
        }
        // Fotoğraf Galerisi
        let currentSlide = 0;

         function setCurrentSlide(index) {
           currentSlide = index;
            updateSlider();
         }

         function updateSlider() {
           const slider = document.getElementById('slider');
           const slides = document.querySelectorAll('.slide');
           const dots = document.querySelectorAll('.dot');

            slider.style.transform = `translateX(-${currentSlide * 100}%)`;
            dots.forEach((dot, i) => {
              dot.classList.toggle('active', i === currentSlide);
           });
        }
         setInterval(() => {
             const slides = document.querySelectorAll('.slide');
            currentSlide = (currentSlide + 1) % slides.length;
            updateSlider();
        }, 5000);


    </script>
</body>
</html>
