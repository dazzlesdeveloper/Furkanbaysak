<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" ie=edge">
    <title>FURKAN BAYSAK PASTANELERİ</title>
    <link rel="icon" type="image/x-icon" href="logo.png">
    <link rel="stylesheet" href="style.css">
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f8f5f0; /* Açık bej arka plan */
            color: #333;
        }

        header {
            background-color: #c0a378; /* Sıcak kahverengi */
            color: white;
            padding: 20px 0;
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .logo-container {
            display: flex;
            align-items: center;
        }

        .logo {
            width: 70px;
            height: 70px;
            margin-right: 15px;
        }

        header h1 {
            margin: 0;
            font-size: 2.2em;
            font-weight: bold;
            letter-spacing: 1px;
        }

        .menu-icon {
            display: none; /* Hamburger menü ikonu başlangıçta gizli */
            cursor: pointer;
            padding: 10px;
        }

        .line {
            width: 25px;
            height: 3px;
            background-color: white;
            margin: 5px auto;
            transition: all 0.3s ease-in-out;
        }

        nav#side-menu {
            position: fixed;
            top: 0;
            left: -250px; /* Menüyü başlangıçta sola taşı */
            width: 250px;
            height: 100%;
            background-color: #c0a378; /* Sıcak kahverengi */
            padding-top: 70px;
            transition: left 0.3s ease-in-out;
            z-index: 1000;
            overflow-y: auto;
        }

        nav#side-menu.open {
            left: 0; /* Menüyü aç */
        }

        nav#side-menu ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        nav#side-menu ul li {
            padding: 0;
        }

        nav#side-menu ul li a {
            display: block;
            padding: 15px 20px;
            text-decoration: none;
            color: white;
            font-size: 1.1em;
            transition: background-color 0.3s ease;
        }

        nav#side-menu ul li a:hover {
            background-color: #a88e68; /* Daha koyu kahverengi */
        }

        nav#side-menu .close-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: none;
            border: none;
            color: white;
            font-size: 1.5em;
            cursor: pointer;
        }

        main {
            padding: 20px;
            max-width: 1200px;
            margin: 20px auto;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .slider-container {
            margin-bottom: 25px;
            overflow: hidden;
            border-radius: 8px;
        }

        .slider {
            display: flex;
            transition: transform 0.5s ease-in-out;
        }

        .slide {
            min-width: 100%;
            height: auto;
            display: block;
        }

        .dots {
            text-align: center;
            margin-top: 10px;
        }

        .dot {
            cursor: pointer;
            height: 15px;
            width: 15px;
            margin: 0 5px;
            background-color: #bbb;
            border-radius: 50%;
            display: inline-block;
            transition: background-color 0.5s ease;
        }

        .active, .dot:hover {
            background-color: #717171;
        }

        .section-content {
            padding: 20px;
        }

        .section-content h2 {
            color: #c0a378; /* Kahverengi başlıklar */
            border-bottom: 2px solid #c0a378;
            padding-bottom: 10px;
            margin-bottom: 20px;
            font-size: 1.8em;
        }

        .section-content p {
            line-height: 1.7;
            color: #555;
        }

        /* Şubeler Stilleri */
        .subeler-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }

        .sube {
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background-color: #fefefe;
            transition: box-shadow 0.3s ease;
        }

        .sube:hover {
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }

        .sube a {
            font-size: 1em;
        }

        .location-icon {
            color: #e44d26; /* Kırmızı ikon */
        }

        /* Pasta Sipariş Alanı Stilleri */
        .pasta-siparis-section {
            background-color: #fefefe;
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }

        .pasta-siparis-section h2 {
            text-align: center;
            margin-bottom: 30px;
        }

        .siparis-form {
            display: flex;
            flex-direction: column;
            max-width: 700px;
            margin: 0 auto;
        }

        .step {
            display: none;
        }

        .step.active {
            display: block;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #444;
        }

        .form-group input, .form-group textarea, .form-group select {
            width: 100%;
            padding: 12px;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 16px;
            font-family: inherit;
            box-sizing: border-box;
        }

        .form-group select {
            appearance: none;
            -webkit-appearance: none;
            -moz-appearance: none;
            background-image: url('data:image/svg+xml;utf8,<svg fill="grey" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/><path d="M0 0h24v24H0z" fill="none"/></svg>');
            background-repeat: no-repeat;
            background-position-x: calc(100% - 10px);
            background-position-y: 50%;
        }

        .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }

        .form-actions {
            display: flex;
            justify-content: space-between;
            margin-top: 25px;
        }

        .form-actions button {
            background-color: #c0a378; /* Kahverengi butonlar */
            color: white;
            border: none;
            padding: 12px 25px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            margin: 4px 2px;
            cursor: pointer;
            border-radius: 4px;
            transition: background-color 0.3s ease;
        }

        .form-actions button:hover {
            background-color: #a88e68;
        }

        .form-actions button:disabled {
            background-color: #ddd;
            color: #777;
            cursor: not-allowed;
        }

        .progress-bar-container {
            width: 100%;
            background-color: #e0e0e0;
            border-radius: 4px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        .progress-bar {
            background-color: #c0a378; /* Kahverengi ilerleme çubuğu */
            height: 10px;
            width: 0%;
            border-radius: 4px;
            transition: width 0.3s ease-in-out;
        }

        .kutular-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 20px;
            justify-content: center;
        }

        .kutu {
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            text-align: center;
            background-color: #fff;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        }

        .kutu:hover {
            transform: scale(1.03);
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.15);
        }

        .kutu img {
            max-width: 100%;
            height: auto;
            margin-bottom: 10px;
            border-radius: 4px;
        }

        .kutu p {
            font-weight: bold;
            font-size: 1.1em;
            color: #333;
            margin: 0;
        }

        .kutu a {
            text-decoration: none;
            color: inherit;
            display: block;
        }

        footer {
            background-color: #333;
            color: white;
            text-align: center;
            padding: 20px 0;
            margin-top: 40px;
        }

        .social-container {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .social-link {
            display: flex;
            align-items: center;
            text-decoration: none;
            color: white;
            margin: 0 20px;
        }

        .social-logo {
            width: 40px;
            height: 40px;
            margin-right: 10px;
        }

        .social-link span {
            font-size: 1em;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            header {
                padding: 15px 0;
                justify-content: space-between; /* Hamburger menü için boşluk */
            }

            header h1 {
                font-size: 1.8em;
            }

            .logo {
                width: 50px;
                height: 50px;
                margin-right: 10px;
            }

            .menu-icon {
                display: block; /* Hamburger menü ikonunu göster */
            }

            .logo-container {
                flex-grow: 1; /* Logoyu sağa it */
                justify-content: center;
            }

            nav#side-menu {
                padding-top: 60px;
            }

            nav#side-menu ul li a {
                font-size: 1em;
                padding: 12px 20px;
            }

            main {
                padding: 15px;
                margin: 15px auto;
            }

            .section-content {
                padding: 15px;
            }

            .section-content h2 {
                font-size: 1.6em;
                margin-bottom: 15px;
                padding-bottom: 8px;
            }

            .section-content p {
                font-size: 0.95em;
            }

            .kutular-container {
                grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
                gap: 15px;
            }

            .kutu {
                padding: 10px;
            }

            .kutu p {
                font-size: 1em;
            }

            .subeler-container {
                grid-template-columns: 1fr; /* Alt alta şubeler */
            }

            .pasta-siparis-section {
                padding: 15px;
            }

            .form-group {
                margin-bottom: 15px;
            }

            .form-group input, .form-group textarea, .form-group select {
                padding: 10px;
                font-size: 15px;
            }

            .form-actions {
                flex-direction: column; /* Butonları alt alta */
                align-items: stretch; /* Butonları genişlet */
            }

            .form-actions button {
                margin: 5px 0;
            }

            .social-link {
                margin: 0 10px;
            }

            .social-logo {
                width: 35px;
                height: 35px;
                margin-right: 8px;
            }

            .social-link span {
                font-size: 0.9em;
            }
        }
    </style>
</head>
<body oncontextmenu="return false;">
    <!-- Üst Menü -->
    <header>
        <div class="menu-icon" onclick="toggleMenu()">
            <div class="line"></div>
            <div class="line"></div>
            <div class="line"></div>
        </div>
        <div class="logo-container">
            <img src="logo.png" alt="Furkan Baysak Pastaneleri Logo" class="logo">
            <h1>FURKAN BAYSAK</h1>
        </div>
    </header>

    <!-- Yandan Açılır Menü -->
    <nav id="side-menu" class="hidden">
        <button class="close-btn" onclick="closeMenu()">X</button>
        <ul>
            <li><a href="#hakkinda">Hakkında</a></li>
            <li><a href="#urunler">Ürünler</a></li>
            <li><a href="#subeler">Şubeler</a></li>
            <li><a href="#pasta-siparis">Pasta Siparişi</a></li>
        </ul>
    </nav>

    <!-- Ana İçerik -->
    <main>
        <!-- Fotoğraf Galerisi -->
        <div class="slider-container">
            <div class="slider" id="slider">
                <img src="image1.png" alt="Galeri 1" class="slide">
                <img src="image2.png" alt="Galeri 2" class="slide">
            </div>
            <div class="dots">
                <span class="dot" onclick="setCurrentSlide(0)"></span>
                <span class="dot" onclick="setCurrentSlide(1)"></span>
                </div>
        </div>

        <section id="hakkinda" class="section-content">
            <h2>Hakkında</h2>
            <p>Kurulduğumuz ilk günden itibaren, en büyük önceliğimiz her zaman sizlerin memnuniyeti oldu. Sizin yüzünüzdeki gülümseme, bizim en değerli motivasyon kaynağımız ve bu yüzden her gün daha iyisini yapmak için çalışıyoruz. Bugün, bu tutkuyu 5 şehirde, tam 38 şubemizde sizlerle paylaşmanın gururunu yaşıyoruz. Her bir şubemizde, sadece bir pastane değil, aynı zamanda sıcak ve samimi bir buluşma noktası olmaya özen gösteriyoruz. Sıcacık bir atmosferde, mis gibi kokan pastalarımız ve tatlılarımız eşliğinde, güler yüzlü ekibimizle sizleri ağırlamaktan büyük bir heyecan duyuyoruz. Amacımız, her ziyaretinizde kendinizi özel ve evinizde hissetmenizi sağlamak. Bizim için her bir misafirimiz, ailemizin bir parçası gibidir. Yılların verdiği tecrübeyle, her bir lezzeti büyük bir titizlikle hazırlıyor, en taze malzemeleri kullanmaya özen gösteriyoruz. Çünkü biliyoruz ki, en güzel anılar, en güzel tatlarla birleşince unutulmaz olur. Furkan Baysak olarak, bu anılarınızda yer almaktan ve sizlere tatlı bir dokunuş katmaktan mutluluk duyuyoruz.</p>
        </section>

        <!-- Ürünler Bölümü -->
       <section id="urunler" class="section-content">
        <h2>Ürünler</h2>
        <div class="kutular-container">
            <div class="kutu">
                <a href="eksimaya.html">
                    <img src="ekşimaya.png" alt="Ekşi Maya">
                    <p>EKŞİ MAYALILAR</p>
                </a>
            </div>
            <div class="kutu">
                <a href="pasta.html">
                    <img src="pasta.png" alt="Pastalar">
                    <p>PASTALAR</p>
                </a>
            </div>
            <div class="kutu">
                <a href="kurabiye.html">
                    <img src="kurabiye.png" alt="Kurabiyeler">
                    <p>KURABİYELER</p>
                </a>
            </div>
            <div class="kutu">
                <a href="şarküteri.html">
                    <img src="şarküteri.png" alt="Şarküteri">
                    <p>ŞARKÜTERİ</p>
                </a>
            </div>
            <div class="kutu">
                <a href="tatlilar.html">
                    <img src="tatlilar.png" alt="Tatlılar">
                    <p>TATLILAR</p>
                </a>
            </div>
            <div class="kutu">
                <a href="icecekler.html">
                    <img src="icecekler.png" alt="İçecekler">
                    <p>İÇECEKLER</p>
                </a>
            </div>
            <div class="kutu">
                <a href="dondurmalar.html">
                    <img src="dondurma.png" alt="Dondurmalar">
                    <p>DONDURMALAR</p>
                 </a>
            </div>
            <div class="kutu">
                <a href="pogaca.html">
                    <img src="pogaca.png" alt="Poğaçalar">
                    <p>POĞAÇALAR</p>
                </a>
            </div>
            <div class="kutu">
                <a href="borek.html">
                    <img src="borek.png" alt="Börekler">
                    <p>BÖREKLER</p>
                </a>
            </div>
            <div class="kutu">
                <a href="tezgahustu.html">
                    <img src="tezgahustu.png" alt="Tezgah Üstü">
                    <p>TEZGAH ÜSTÜ</p>
                </a>
             </div>
             <div class="kutu">
                 <a href="kruvasan.html">
                     <img src="kruvasan.png" alt="Kruvasanlar">
                     <p>KRUVASANLAR</p>
                 </a>
             </div>
            <div class="kutu">
                <a href="tart.html">
                    <img src="tart.png" alt="Tartlar">
                    <p>TARTLAR</p>
                </a>
            </div>
        </div>
    </section>

        <!-- Şubeler Bölümü -->
        <section id="subeler" class="section-content">
            <h2>Şubeler</h2>
            <div class="subeler-container">
                <div class="sube">
                    <p><span class="location-icon">📍</span><a href="kayseri.html">KAYSERİ</a></p>
                </div>
                <div class="sube">
                    <p><span class="location-icon">📍</span><a href="nevsehir.html">NEVŞEHİR</a></p>
                </div>
                <div class="sube">
                    <p><span class="location-icon">📍</span><a href="nigde.html">NİĞDE</a></p>
                </div>
                <div class="sube">
                    <p><span class="location-icon">📍</span><a href="sivas.html">SİVAS</a></p>
                </div>
                <div class="sube">
                    <p><span class="location-icon">📍</span><a href="aksaray.html">AKSARAY</a></p>
                </div>
            </div>
        </section>

        <!-- Pasta Sipariş Bölümü -->
        <section id="pasta-siparis" class="section-content pasta-siparis-section">
            <h2>Pasta Siparişi</h2>
            <div class="progress-bar-container">
                <div class="progress-bar" id="order-progress-bar"></div>
            </div>
            <form class="siparis-form" id="pastaSiparisForm">

                <div class="step active" data-step="1"> <!-- Adım 1 -->
                    <div class="form-group">
                        <label for="musteri-adi">1. Müşteri Adı Soyadı <span style="color: red;">*</span></label>
                        <input type="text" id="musteri-adi" name="musteri-adi" required placeholder="Adınız ve Soyadınız">
                    </div>
                </div>

                <div class="step" data-step="2"> <!-- Adım 2 -->
                    <div class="form-group">
                        <label for="musteri-telefon">2. Müşteri Telefonu <span style="color: red;">*</span></label>
                        <input type="tel" id="musteri-telefon" name="musteri-telefon" required placeholder="Telefon Numaranız" maxlength="11">
                    </div>
                </div>

                <div class="step" data-step="3"> <!-- Adım 3 -->
                    <div class="form-group">
                        <label for="sube-adi">3. Şube Adı <span style="color: red;">*</span></label>
                        <input type="text" id="sube-adi" name="sube-adi" required placeholder="Sipariş vermek istediğiniz şube">
                    </div>
                </div>

                <div class="step" data-step="4"> <!-- Adım 4 -->
                    <div class="form-group">
                        <label for="pasta-boyutu">4. Pasta Boyutu <span style="color: red;">*</span></label>
                        <select id="pasta-boyutu" name="pasta-boyutu" required>
                            <option value="">Seçiniz</option>
                            <option value="1-nolu">1 Nolu (4-6 Kişilik)</option>
                            <option value="2-nolu">2 Nolu (8-10 Kişilik)</option>
                            <option value="3-nolu">3 Nolu (10-15 Kişilik)</option>
                        </select>
                    </div>
                </div>

                <div class="step" data-step="5"> <!-- Adım 5 -->
                    <div class="form-group">
                        <label for="pasta-sekli">5. Pasta Şekli (Yuvarlak, Kare, Kalp vb.)</label>
                        <input type="text" id="pasta-sekli" name="pasta-sekli" placeholder="İstediğiniz pasta şeklini belirtin (yuvarlak, kare, diş, araba, kalp vb.)">
                    </div>
                </div>

                <div class="step" data-step="6"> <!-- Adım 6 -->
                    <div class="form-group">
                        <label for="ekstra-ara-kat">6. Ekstra Ara Kat</label>
                        <select id="ekstra-ara-kat" name="ekstra-ara-kat">
                            <option value="istemiyorum">İstemiyorum</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                        </select>
                    </div>
                </div>

                <div class="step" data-step="7"> <!-- Adım 7 -->
                    <div class="form-group">
                        <label for="kek-krema-farkliligi">7. Kek ve Krema Farklılığı</label>
                        <input type="text" id="kek-krema-farkliligi" name="kek-krema-farkliligi" placeholder="Kek veya krema için özel isteğiniz varsa belirtin">
                    </div>
                </div>

                <div class="step" data-step="8"> <!-- Adım 8 -->
                    <div class="form-group">
                        <label for="pasta-icerigi">8. Pasta İçeriği (Kuruyemiş, Çikolata, Meyveli vb.)</label>
                        <input type="text" id="pasta-icerigi" name="pasta-icerigi" placeholder="Pasta içeriği tercihinizi belirtin (kuruyemiş, çikolata, meyveli, full içerikli vb.)">
                    </div>
                </div>

                <div class="step" data-step="9"> <!-- Adım 9 -->
                    <div class="form-group">
                        <label for="pasta-kremasi">9. Pasta Kreması (Şanti, Sos, Şeker Hamuru)</label>
                        <input type="text" id="pasta-kremasi" name="pasta-kremasi" placeholder="Pasta kreması tercihinizi belirtin (şanti, sos, şeker hamuru)">
                    </div>
                </div>

                <div class="step" data-step="10"> <!-- Adım 10 -->
                    <div class="form-group">
                        <label for="pasta-rengi">10. Pasta Rengi</label>
                        <input type="text" id="pasta-rengi" name="pasta-rengi" placeholder="Pasta rengi tercihinizi belirtin">
                    </div>
                </div>

                <div class="step" data-step="11"> <!-- Adım 11 -->
                    <div class="form-group">
                        <label for="pasta-altligi">11. Pasta Altlığı (Mukavva, Şeker Hamuru, Ahşap)</label>
                        <input type="text" id="pasta-altligi" name="pasta-altligi" placeholder="Pasta altlığı tercihinizi belirtin (mukavva, şeker hamuru, ahşap)">
                    </div>
                </div>

                <div class="step" data-step="12"> <!-- Adım 12 -->
                    <div class="form-group">
                        <label for="pasta-detaylari">12. Pasta Detayları (Eklemek istediğiniz özel notlar)</label>
                        <textarea id="pasta-detaylari" name="pasta-detaylari" rows="3" placeholder="Pasta ile ilgili eklemek istediğiniz detaylar, özel notlar" maxlength="800"></textarea>
                    </div>
                </div>

                <div class="step" data-step="13"> <!-- Adım 13 -->
                    <div class="form-group">
                        <label for="ornek-pasta-resmi">13. Örnek Pasta Resmi Lifebox Linki (Opsiyonel)</label>
                        <input type="url" id="ornek-pasta-resmi" name="ornek-pasta-resmi" placeholder="Lifebox resim linkinizi buraya yapıştırın">
                        <p style="font-size: 0.9em; color: #777;">**Not:** Lütfen örnek pasta resminizi Lifebox'a yükleyin ve bağlantısını buraya yapıştırın. Farklı bir resim yükleme yöntemi şu an için desteklenmemektedir.</p>
                    </div>
                </div>

                <div class="step" data-step="14"> <!-- Adım 14 -->
                    <div class="form-group">
                        <label for="notlar">14. Not (Eklemek istediğiniz notlar)</label>
                        <textarea id="notlar" name="notlar" rows="3" placeholder="Eklemek istediğiniz notlar" maxlength="800"></textarea>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="button" id="previous-step" disabled>Geri</button>
                    <button type="button" id="next-step">İleri</button>
                    <button type="submit" id="submit-order" style="display: none;">Siparişi Gönder</button>
                </div>
            </form>
        </section>
    </main>

    <!-- Footer -->
    <footer>
        <div class="social-container">
            <a href="https://www.instagram.com/furkanbaysakpastaneleri" target="_blank" class="social-link">
                <img src="instagram-logo.png" class="social-logo">
                <span>FURKANBAYSAKPASTANELERİ</span>
            </a>
        </div>
    </footer>

    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>
    <script>
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
const firebaseConfig = {
  apiKey: "AIzaSyCIhKXxTwmQ1l70c7_vnH6ZmM1FxZsqUEI",
  authDomain: "furkan-baysak-b74ef.firebaseapp.com",
  databaseURL: "https://furkan-baysak-b74ef-default-rtdb.firebaseio.com",
  projectId: "furkan-baysak-b74ef",
  storageBucket: "furkan-baysak-b74ef.firebasestorage.app",
  messagingSenderId: "332668884342",
  appId: "1:332668884342:web:975a46d869cf37bbc85657",
  measurementId: "G-1TQKFHW50T"
};

        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();

        // Form Adımları ve İlerleme Çubuğu Kontrolü
        const steps = document.querySelectorAll('.step');
        const progressBar = document.getElementById('order-progress-bar');
        const prevButton = document.getElementById('previous-step');
        const nextButton = document.getElementById('next-step');
        const submitButton = document.getElementById('submit-order');
        let currentStep = 1;
        const totalSteps = steps.length;
        const form = document.getElementById('pastaSiparisForm'); // Form elementini al

        function updateFormStep(stepIndex) {
            steps.forEach(step => step.classList.remove('active'));
            steps[stepIndex - 1].classList.add('active');
            currentStep = stepIndex;

            // İlerleme çubuğunu güncelle
            const progressPercentage = ((stepIndex - 1) / (totalSteps - 1)) * 100;
            progressBar.style.width = `${isNaN(progressPercentage) ? 0 : progressPercentage}%`;

            // Butonları güncelle
            prevButton.disabled = stepIndex === 1;
            nextButton.style.display = stepIndex === totalSteps ? 'none' : 'inline-block';
            submitButton.style.display = stepIndex === totalSteps ? 'inline-block' : 'none';
            nextButton.innerText = stepIndex === totalSteps ? 'Siparişi Gözden Geçir' : 'İleri';

             // Adım içeriğini kontrol et ve "İleri" butonunu etkinleştir/devre dışı bırak
            validateStep(stepIndex);
        }

        function validateStep(stepIndex) {
            let isValidStep = true;
            const currentStepElement = steps[stepIndex - 1];
            const requiredFields = currentStepElement.querySelectorAll('[required]');

            requiredFields.forEach(field => {
                if (!field.value.trim()) {
                    isValidStep = false;
                }
            });
            nextButton.disabled = !isValidStep;
             if (stepIndex === totalSteps) { // Son adımda "Siparişi Gözden Geçir" butonunu da validasyona göre ayarla
                submitButton.disabled = !isValidStep;
            }
        }


        nextButton.addEventListener('click', () => {
            if (currentStep < totalSteps) {
                updateFormStep(currentStep + 1);
            }
        });

        prevButton.addEventListener('click', () => {
            if (currentStep > 1) {
                updateFormStep(currentStep - 1);
            }
        });

        // İlk adımı göster
        updateFormStep(1);

        // Her input değişikliğinde adım validasyonunu kontrol et
        form.addEventListener('input', function(e) {
            validateStep(currentStep);
        });


        // Telefon Numarası Input Kontrolü (Sadece Numara ve Limit)
        const phoneInput = document.getElementById('musteri-telefon');
        phoneInput.addEventListener('input', function (e) {
            this.value = this.value.replace(/[^0-9]/g, '');
            if (this.value.length > 11) {
                this.value = this.value.slice(0, 11);
            }
        });


        // Form Gönderildiğinde İlerleme Çubuğunu ve Firebase Kaydını Yönetme
        const orderForm = document.querySelector('.siparis-form');

        orderForm.addEventListener('submit', function(event) {
            event.preventDefault();

            // Form validasyonunu kontrol et (gerekirse)
            if (!form.checkValidity()) {
                alert("Lütfen tüm zorunlu alanları doldurun."); // Daha detaylı validasyon mesajları eklenebilir
                return;
            }

            saveOrderToFirebase();
            progressBar.style.width = '100%';
        });


        // Form verilerini Firebase'e kaydetme fonksiyonu
        function saveOrderToFirebase() {
            const musteriAdi = document.getElementById('musteri-adi').value;
            const musteriTelefon = document.getElementById('musteri-telefon').value;
            const subeAdi = document.getElementById('sube-adi').value;
            const pastaBoyutu = document.getElementById('pasta-boyutu').value;
            const pastaSekli = document.getElementById('pasta-sekli').value;
            const ekstraAraKat = document.getElementById('ekstra-ara-kat').value;
            const kekKremaFarkliligi = document.getElementById('kek-krema-farkliligi').value;
            const pastaIcerigi = document.getElementById('pasta-icerigi').value;
            const pastaKremasi = document.getElementById('pasta-kremasi').value;
            const pastaRengi = document.getElementById('pasta-rengi').value;
            const pastaAltligi = document.getElementById('pasta-altligi').value;
            const pastaDetaylari = document.getElementById('pasta-detaylari').value;
            const ornekPastaResmi = document.getElementById('ornek-pasta-resmi').value; // Lifebox Linki
            const notlar = document.getElementById('notlar').value;

            const orderRef = database.ref('pasta-siparisleri/' + subeAdi + '/' + musteriAdi.replace(/\s/g, '_') + '_' + Date.now());

            orderRef.set({
                musteriAdi: musteriAdi,
                musteriTelefon: musteriTelefon,
                subeAdi: subeAdi,
                pastaBoyutu: pastaBoyutu,
                pastaSekli: pastaSekli,
                ekstraAraKat: ekstraAraKat,
                kekKremaFarkliligi: kekKremaFarkliligi,
                pastaIcerigi: pastaIcerigi,
                pastaKremasi: pastaKremasi,
                pastaRengi: pastaRengi,
                pastaAltligi: pastaAltligi,
                pastaDetaylari: pastaDetaylari,
                ornekPastaResmi: ornekPastaResmi, // Lifebox Linki Kaydediliyor
                notlar: notlar,
                siparisTarihi: new Date().toLocaleString()
            }).then(() => {
                alert('Siparişiniz başarıyla gönderildi!');
                orderForm.reset();
                progressBar.style.width = '0%';
                updateFormStep(1);
            }).catch((error) => {
                console.error("Firebase'e yazma hatası:", error); // Detaylı hata için console.log
                alert('Sipariş gönderilirken bir hata oluştu. Lütfen tekrar deneyin.');
                progressBar.style.width = '0%';
            });
        }


        // Yandan Menü Kontrolü
        function toggleMenu() {
            const menu = document.getElementById('side-menu');
            menu.classList.toggle('open');
        }

        function closeMenu() {
            const menu = document.getElementById('side-menu');
            menu.classList.remove('open');
        }

        // Fotoğraf Galerisi
        let currentSlide = 0;

        function setCurrentSlide(index) {
            currentSlide = index;
            updateSlider();
        }

        function updateSlider() {
            const slider = document.getElementById('slider');
            const slides = document.querySelectorAll('.slide');
            const dots = document.querySelectorAll('.dot');

            slider.style.transform = `translateX(-${currentSlide * 100}%)`;

            dots.forEach((dot, i) => {
                dot.classList.toggle('active', i === currentSlide);
            });
        }

        setInterval(() => {
            const slides = document.querySelectorAll('.slide');
            currentSlide = (currentSlide + 1) % slides.length;
            updateSlider();
        }, 5000);

    </script>
    <script>
        document.addEventListener('contextmenu', event => event.preventDefault());
    </script>
</body>
</html>
